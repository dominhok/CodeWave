<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ê²½ë¡œ ì•ˆë‚´</title>
  <script src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=w5mst5owqn"></script>
  <style>
    #map {
      width: 100%;
      height: 500px;
    }
  </style>
</head>
<body>
  <h1>ğŸš¶â€â™‚ï¸ ê²½ë¡œ ì•ˆë‚´</h1>
  <div id="map"></div>
  <script>
    // ì¶œë°œì§€ì™€ ëª©ì ì§€ ì¢Œí‘œ
    const startLatLng = new naver.maps.LatLng(37.498095, 127.027610); // ì¶œë°œì§€ (ì˜ˆ: ê°•ë‚¨êµ¬)
    const endLatLng = new naver.maps.LatLng(37.501274, 127.039585);   // ëª©ì ì§€ (ì˜ˆ: ì‚¼ì„±1ë™ ì£¼ë¯¼ì„¼í„°)

    // ë„¤ì´ë²„ ì§€ë„ ìƒì„±
    const map = new naver.maps.Map('map', {
      center: startLatLng,
      zoom: 14
    });

    // ì¶œë°œì§€ ë§ˆì»¤
    new naver.maps.Marker({
      position: startLatLng,
      map: map,
      icon: {
        content: '<div style="background-color: #FF3B30; color: white; padding: 5px; border-radius: 50%;">ì¶œë°œì§€</div>',
        size: new naver.maps.Size(30, 30),
        anchor: new naver.maps.Point(15, 15)
      }
    });

    // ëª©ì ì§€ ë§ˆì»¤
    new naver.maps.Marker({
      position: endLatLng,
      map: map,
      icon: {
        content: '<div style="background-color: #0078D4; color: white; padding: 5px; border-radius: 50%;">ëª©ì ì§€</div>',
        size: new naver.maps.Size(30, 30),
        anchor: new naver.maps.Point(15, 15)
      }
    });

    // Directions APIë¥¼ ì‚¬ìš©í•˜ì—¬ ê²½ë¡œ íƒìƒ‰
    function getDirections() {
      const directionService = new naver.maps.DirectionsService();
      directionService.route({
        start: startLatLng,
        goal: endLatLng,
        routeMode: naver.maps.DirectionsMode.WALKING,  // ë„ë³´ ê²½ë¡œ
      }, function(status, response) {
        if (status === naver.maps.DirectionsStatus.OK) {
          const route = response.routes[0];  // ì²« ë²ˆì§¸ ê²½ë¡œ
          const path = route.path;

          // ê²½ë¡œë¥¼ í´ë¦¬ë¼ì¸ìœ¼ë¡œ ì§€ë„ì— í‘œì‹œ
          new naver.maps.Polyline({
            map: map,
            path: path,
            strokeColor: '#0033FF',
            strokeOpacity: 0.7,
            strokeWeight: 5
          });

          // ê²½ë¡œê°€ ë³´ì´ë„ë¡ ì§€ë„ ì¤‘ì•™ì„ ê²½ë¡œë¡œ ì´ë™
          const bounds = new naver.maps.LatLngBounds();
          path.forEach(function(latLng) {
            bounds.extend(latLng);
          });
          map.fitBounds(bounds);
        } else {
          alert('ê²½ë¡œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
        }
      });
    }

    // ê²½ë¡œ ê³„ì‚° í›„ í‘œì‹œ
    getDirections();
  </script>
</body>
</html>
